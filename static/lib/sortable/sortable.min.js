/**
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,function(){"use strict";function e(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function M(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach(function(t){var e,n;e=o,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function i(t,e){if(null==t)return{};var n,o,i=function(t,e){if(null==t)return{};var n,o,i={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],0<=e.indexOf(n)||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function p(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function h(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var l=h(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),s=h(/Edge/i),c=h(/firefox/i),u=h(/safari/i)&&!h(/chrome/i)&&!h(/android/i),d=h(/iP(ad|od|hone)/i),f=h(/chrome/i)&&h(/android/i),t={capture:!1,passive:!1};function n(t,e,n){t.addEventListener(e,n,!l&&t)}function g(t,e,n){t.removeEventListener(e,n,!l&&t)}function v(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function m(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&v(t,e):v(t,e))||o&&t===n)return t;if(t===n)break}while(t=t.parentNode)}return null}function b(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function w(t,e,n,o){if(t){n=n||document;do{if(v(t,e))return!0;if(t===n||t===o||t.host&&t.host===o)break}while(t=b(t))}return!1}var y,E={delay:0,distance:0,groups:null,handle:null,draggable:null,preventOnFilter:!0,startPredicate:function(t,e){var n=!(!0!==j.active&&j.multiDragKey&&!e[j.multiDragKey]);return!(!j.handle||!T(t.target,j.handle,this))&&!(!t.button||1!==t.buttons)&&(!(e.preventDefault(),e.stopPropagation(),n)&&void 0)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",filter:null,preventDrag:!1,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==E.supportPointer&&("PointerEvent"in window&&!u),emptyInsertThreshold:5};function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function _(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?D(Object(i),!0).forEach(function(t){var e,n,o;e=r,o=i[n=t],n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}for(var S in E)!(y=S)in E&&(E[y]=E[y]);var j,T=function(t,e,n){return t&&((e=e.split(".")).length?e.reduce(function(t,e){return t&&t[e]},t):t[e])},O=null,C=[],A=!1,P=!1,X=!1;function Y(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=_({},e),t[I]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return H(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==n.supportPointer&&("PointerEvent"in window&&!u),emptyInsertThreshold:5};for(var o in n)o in e||(e[o]=n[o]);for(var i in K(e),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&U,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?n(t,"pointerdown",this._onTapStart):(n(t,"mousedown",this._onTapStart),n(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(n(t,"dragover",this),n(t,"dragenter",this)),C.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[])}function B(e,n,o,i,r,a,l){var s,c,u=this,d=e.options,f="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||l||F?(s=document.createEvent("Event")).initEvent(n,!0,!0):s=new CustomEvent(n,{bubbles:!0,cancelable:!0}),s.to=o||e,s.from=r||e,s.item=i||e,s.clone=O,s.oldIndex=a,s.newIndex=c,s.originalEvent=l,e.dispatchEvent(s),d[f]&&d[f].call(u,s)}function N(t,e,n,o,i,r,a,l){var s,c,u=t[I],d=u.options.onMove;return!window.CustomEvent||a||F?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=n,s.draggedRect=o,s.related=i||e,s.relatedRect=r||e.getBoundingClientRect(),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),c=d&&d.call(u,s,a),c}function H(t,e){var n=t.getAttribute("direction")||e.direction;return"function"==typeof n?n.call(this,M({},e),t):n}function L(t,e,n,o){var i=(r=2<arguments.length&&void 0!==n?n:{}).ghostClass||e.ghostClass;if(o){if(!t.get(o))return;i=t.get(o).ghostClass||i}var r=i;return r}function K(t){F&&!t.scrollSensitivity&&(t.scrollSensitivity=30),F&&!t.touchStartThreshold&&(t.touchStartThreshold=1),Bt&&F&&(t.supportPointer=!1),!F&&void 0===t.delayOnTouchOnly&&(t.delayOnTouchOnly=!0),s&&(t.ignoreJSONP=!1),t.preventOnFilter=!!t.preventOnFilter}Y.prototype={constructor:Y,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(A=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,q):this.options.direction},_onTap:function(t,e){if(t.target===this.el){e=e||{};var n=this.options,o=n.el||this.el,i=n.handle;if(i&&!T(t.target,i,o))return;if(t.button&&0!==t.button)return;this._saveInputCheckedState(o);var r=function(t,e,n){var o=[],i=t.getElementsByTagName("input"),r=t.getElementsByTagName("textarea"),a=i?[].concat(p(i),p(r)):r;if(a&&a.length)for(var l=a.length;l--;){var s=a[l],c=s.name||s.id;c&&!s.disabled&&(e||!(n&&s.type!=n))&&o.push({input:s,name:c,value:s.value})}return o}(o,!n.ignoreInputTextSelection);r.length&&m(t.target,null,null,!0)||this._prepareDragStart(t,e,r)}}},_handleAutoScroll:function(e,n){if(q&&this.options.scroll){var o=e.clientX,i=e.clientY,r=document.elementFromPoint(o,i),a=this;if(n||f||s||u){var l,t=this.options.scrollSensitivity,s=(window.innerHeight-(e.clientY-document.documentElement.offsetTop||t))/t,c=(window.innerWidth-(e.clientX-document.documentElement.offsetLeft||t))/t,s=s>=0&&s<=1,c=c>=0&&c<=1;if(s)l=40*s,st=null===st?l:st+l;else if(c)l=40*c,ct=null===ct?l:ct+l;if(s||c)return void window.scrollBy(ct,st);st=null,ct=null}if(r&&!r.contains(q)&&r!==a.targetEl){var u=r,d=b(r),f=r===document.body,t=r.scrollTop===r.scrollHeight-r.clientHeight,p=r.scrollLeft===r.scrollWidth-r.clientWidth,t=f?document.documentElement.scrollTop||document.body.scrollTop:u.scrollTop,p=f?document.documentElement.scrollLeft||document.body.scrollLeft:u.scrollLeft;if(A!==r&&(R=null,A=r,W=f?window:u,S=f?{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}:{width:u.clientWidth,height:u.clientHeight},ut=f?{width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight}:{width:u.scrollWidth,height:u.scrollHeight}),this.options.animation){var h=function(){return t+dt*a.options.scrollSpeed},g=function(){return p+ft*a.options.scrollSpeed};st=h(),ct=g()}var v={x:p!==u.scrollWidth-u.clientWidth?ct||0:0,y:t!==u.scrollHeight-u.clientHeight?st||0:0};null!==R&&R===(y=v).x&&L==y.y||(clearInterval(a.animationFrame),a.animationFrame=setInterval(function(){var t,e;if(null!==st&&(t=null===st?0:Math.round(st-u.scrollTop)/20)>=1||-1>=t||null!==ct&&(e=null===ct?0:Math.round(ct-u.scrollLeft)/20)>=1||-1>=e)if(u===document.body){if(a.options.animation)return;if(u.scroll)return void u.scroll(u.scrollLeft+e,u.scrollTop+t);u.scrollLeft+=e,u.scrollTop+=t}else if(y.x&&u.scrollLeft!==v.x||y.y&&u.scrollTop!==v.y)return void(u.scrollTo?u.scrollTo(u.scrollLeft+e,u.scrollTop+t):(u.scrollLeft+=e,u.scrollTop+=t));dt=0,ft=0,st=null,ct=null},20));var y;R=v.x,L=v.y,Z(z(d,r),e)}}else{for(var m=b(document.elementFromPoint(o,i));m&&m.shadowRoot;)m=m.shadowRoot.elementFromPoint(o,i);if(m){var E=m,_=b(E),S=_.width,j=_.height,T=_.top,_=_.left,O=T+j,C=_+S,P=!(i<T+30&&i>O-30||o<_+30&&o>C-30);if(!E.contains(q))if(P||this.options.bubbleScroll){Z(m,e);for(var X=b(document.elementFromPoint(o,i));X&&X!==document.body;){var N=X.getBoundingClientRect(),H=N.top,B=N.bottom,N=N.left,N=N.right,F=!(i<H+10&&i>B-10&&o<N+10&&o>N-10);if(!F)return;Z(X=b(X),e)}}}}var A,R,W,S,L,dt=0,ft=0,st=null,ct=null,ut=null}},_onDragStart:function(t,e){var n=this.sortable,o=this,i=this.el,r=this.options,a=r.preventOnFilter,l=t.button,s=t.target,c=r.filter;!this.isMultiDrag&&(!c||!a||0===l&&(!s||T(s,c,i)))||(n.dragEl=this,n.dragging=!0,n.sortable=this,B(n,"start",i,n.dragEl,i,i,n.startIndex),s="function"==typeof s?s({sortable:n}):s||n.dragEl,g(s,"mouseup",o._onDrop),g(s,"touchend",o._onDrop),g(s,"touchcancel",o._onDrop),n.nativeDraggable?(g(document,"dragover",z),g(document,"dragenter",z),g(document,"drop",o._onDrop)):(n._onDragOver=function(t){t.preventDefault(),r.dragoverBubble||t.stopPropagation(),n._triggerEvent("sort",t),delete n._onDragOver},n._onDragOut=function(t){delete n._onDragOut;var e=t.relatedTarget||document.elementFromPoint(t.clientX,t.clientY);e&&e!==i&&(n._triggerEvent("leave",t),n._triggerEvent("_pressLeave",t))},n._onChange=function(t){var e=n.dragEl,o=n.dragOverEl;if(e&&o&&e!==o){var i=X(e),r=X(o),a=n.options.swapThreshold||.5,e=t.clientX||t.touches[0].clientX,t=t.clientY||t.touches[0].clientY,a=e>=i.left+i.width*a&&e<=r.left+r.width*a&&t>=i.top+i.height*a&&t<=r.top+r.height*a;a&&n._isSwapping!==a&&(n._isSwapping=a,n._triggerEvent("swapItem",{item:e,related:o}))}},n.ignoreNextClick=!1,n._offMoveEvents=function(){g(document,"mousemove",o._onTouchMove),g(document,"touchmove",o._onTouchMove)},n._offUpEvents=function(){g(document,"mouseup",o._onDrop),g(document,"touchend",o._onDrop),g(document,"touchcancel",o._onDrop)},g(document,"mousemove",n._onChange),g(document,"touchmove",n._onChange),g(document,"mousemove",o._onTouchMove),g(document,"touchmove",o._onTouchMove),g(document,"mouseup",o._onDrop),g(document,"touchend",o._onDrop),g(document,"touchcancel",o._onDrop)),n._triggerDragStart=function(t){return o._onDragStart(t,{distance:0})},n._disableDelayedDrag=function(){o.isMultiDrag=!1,n.delayTimer&&(clearTimeout(n.delayTimer),n.delayTimer=void 0)},g(document,"mousedown",n._onDragStart),g(document,"touchstart",n._onDragStart),e&&l&&e.preventDefault())},_onDragOver:function(t){var e,n,o,i,r,a,l,s=this.options,c=this.el,u=this.dragEl,d=s.group,f=Y.active,p=this.target||u.parentNode,h=u.cloneNode(!0);if(p){if(p!==document.body){if(X.rigid)return!0;var g,v=X(p),y=s.direction,m=v.top,E=v.left,b=v.width,w=v.height,_=v.bottom,S=v.right,j=p.scrollTop,T=p.scrollLeft,D=p.scrollWidth,O=p.scrollHeight,C=m,P=E,X=w,A=b;if(!s.animation){if(this.axis){if("x"===this.axis){var R=t.clientX-E;if(Math.abs(R)>15)if("horizontal"===y&&R<0)E=S;else{if(!("horizontal"===y&&0<R))return!1;E=m}}}else{A=b/2,X=w/2;var R=(t.clientX-E)/b,W=(t.clientY-m)/w;if(.3>R)E=P;else if(R>.7)E=S;if(.3>W)m=C;else if(W>.7)m=_;}}if(this.axis)if("x"===this.axis){if(t.clientX<E||t.clientX>S)return!1}else if(t.clientY<m||t.clientY>_)return!1;if("pointer"!==s.handle&&!F&&!d.pull&&!f)return!1;if(p!==document.body){if(p.getBoundingClientRect){g={x:t.clientX,y:t.clientY}}else{g={x:t.pageX,y:t.pageY}}if(!w(p,"over",g))return!1}}}else if(!f||!d.pull)return!1;if(this._isOutsideThisEl(t.target)||!p)return!1;if(this.options.sort){var H=Y.closest(t.target,this.options.draggable,c);if(H&&H!==c){var B=N(c,c,u,v,H,v,t);if(!1!==B)return 1!==B&&(p=H),d.swap&&d.swap(c,p),this._animate(v,p),this._appendPlaceholder(p),d.swap||this._dragOverEvent("sortenter",{item:u,related:p}),this.lastTarget=p,this.dragOverTimer&&(clearTimeout(this.dragOverTimer),this.dragOverTimer=void 0),this.dragOverTimer=setTimeout(function(){this.dragOverTimer=void 0,p&&this._dragOverEvent("dragover",{item:u,related:p})}.bind(this),0),!0}}if(p&&u&&p!==u&&p.contains(u))return!1;var t=t,p=p,L=this._copy,k=(L&&(L.style.display="none"),p.classList.add("sortable-over"),function(t,e,n){t=t||{},n=n||{},t.cpIndex=e,t.width=n.width,t.height=n.height,t});a=p===c?u.nextSibling:p.firstChild;var I=!1;if(a){a=a.getBoundingClientRect(),r=a.right,o=a.bottom,i=a.left,n=a.top,e=a.width,a=a.height,l=k(a,p.children.length,v);var U=p.getBoundingClientRect(),d=U.right,f=U.bottom,g=U.left,U=U.top,$=p.clientWidth,q=p.clientHeight;if(n>U+X&&o<f)p.insertBefore(h,a),I=!0;else if(i>g+A&&r<d)p.insertBefore(h,a.nextSibling),I=!0}else{var z=p.lastChild;z&&(n=(z=z.getBoundingClientRect()).right,o=z.bottom,i=z.left,e=z.width,a=z.height,l=k(z,p.children.length,v));var G=p.getBoundingClientRect(),d=G.right,f=G.bottom,g=G.left,G=G.top,$=p.clientWidth,q=p.clientHeight;if(o<G+X&&n<f)p.appendChild(h),I=!0;else if(r<g+A&&i<d)p.appendChild(h),I=!0}if(I){if("function"==typeof s.animation)return s.animation.call(this,v,p),!0;p.appendChild(u),this._animate(v,p),L&&(L.style.display=""),p.classList.remove("sortable-over")}else if(!0!==s.dropBubble)return!1;return p.classList.remove("sortable-over"),!0}return!1},_onDrop:function(t){if(q){R(),P=!1;var e=this,n=e.options.animation,o=e.dragStartIndex,i=e.newIndex,r=e.el,a=e.toEl,l=t.parentNode,s=e.nativeDraggable,c=e._clone;if(j&&(t._dragAngles=void 0),P=!0,0<n&&c&&(e._hideClone(),s&&(j&&(j.style.display="none"),ot=j)),X=null,t.preventDefault(),!e.nativeDraggable&&e.options.preventOnFilter&&t.stopPropagation(),e._hideClone(),l!==e.el){if(o!==i&&"function"==typeof n)n.call(e,c,e.dragEl,l);else{var u=e.dragEl;e._isInBounds(t)&&(u=e.dragEl,u.classList.remove(e.options.dragClass),e.dragEl=u),s&&(j&&(j.style.display=""),ot=null)}a&&a!==r&&a.contains(t)&&(e._dispatchEvent("drop",{originalEvent:t}),"move"!==e.options.animation&&e.animate(u,e._getRelativeScrollOffset(u)),e.captureAnimationState(),e._dispatchEvent("sort",{item:u,from:r,to:a,oldIndex:o,newIndex:i,oldDraggingIndex:e.oldDraggingIndex,newDraggingIndex:e.newDraggingIndex,originalEvent:t}))}else e._dispatchEvent("drop",{originalEvent:t}),e._dispatchEvent("sort",{item:e.dragEl,from:r,to:a,oldIndex:o,newIndex:i,oldDraggingIndex:e.oldDraggingIndex,newDraggingIndex:e.newDraggingIndex,originalEvent:t});e._nulling()}},_nulling:function(){X=q=n=g=O=null,C.splice(C.indexOf(this.el),1),this.el=this.toEl=this._retainExclusiveTouch=this._cloneEl=this.oldIndex=this.newIndex=null},destroy:function(){this._nulling(),g(this.el,"mousedown",this._onTapStart),g(this.el,"touchstart",this._onTapStart),this.nativeDraggable&&(g(this.el,"dragover",this),g(this.el,"dragenter",this)),Array.prototype.forEach.call(this.el.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),C.splice(C.indexOf(this.el),1),this.el=null},_hideClone:function(){O&&O.parentNode&&O.parentNode.removeChild(O),O=null},_dispatchEvent:function(e,t){B(this.el,e,t)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&K(n)},_updateItemEvents:function(e){g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart),this.nativeDraggable&&g(e,"drop",this._onDrop)},_getDirection:H,_animate:function(e,t){var n=this.options.animation;if(n){var o=t.getBoundingClientRect(),i=o.top-e.top,r=o.left-e.left;requestAnimationFrame(function(){var e={transform:"translate3d(".concat(r,"px, ").concat(i,"px, 0)"),transition:"transform 0ms "+(n||"")},t=this.el.style;for(var n in e)t[n]=e[n];requestAnimationFrame(function(){t.transform="",t.transition=""})}.bind(this))}},_appendPlaceholder:function(e){if(e&&e!==this.el){var t=e.children;if(0<t.length){var n=t[0];n&&"static"===window.getComputedStyle(n).position&&(n.style.position="relative")}}},_dispatchInsertEvent:function(e,t,n){var o=n||{},i=document.createEvent("Event");i.initEvent(e,!0,!0);for(var r in o)i[r]=o[r];t.dispatchEvent(i)}};var I="Sortable"+(new Date).getTime();return Y.prototype._onTapStart=function(e,t){var n,o=this,i=this.el,r=this.options,a=r.preventOnFilter,l=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,c=(s||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c;if("mousedown"===l&&0!==e.button||r.disabled||u.isContentEditable||(this._prepareDragStart(e,t,s),c=this.options.handle?m(c,this.options.handle,i):c,!c||!T(c,null,i,!r.filter)))return!0;if(r.filter){if(a&&!T(c,r.filter,i,!0))return!0;if("function"==typeof(n=r.filter)){if(n.call(this,e,c,this))return!0}}("touchstart"===l?e.cancelable&&e.preventDefault():e.preventDefault(),this.nativeDraggable&&!this.options.forceFallback||(this._activateGroups(),this._dragStartId=requestAnimationFrame(this._dragStarted.bind(this))))},Y.prototype._onTouchMove=function(e){if(q){e.stopPropagation();var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,e=i.clientX-q.clientX,i=i.clientY-q.clientY;if(!ut.active&&!P){if(n&&Math.max(Math.abs(e),Math.abs(i))<n)return;ut.active=!0}this._handleAutoScroll(i,!0);var r=X(this.el),a=r.left,l=r.top,r={x:a+o.x,y:l+o.y};if(this._handleAutoScroll(r,!0),this.options.animation){var s=this.dragEl.style;requestAnimationFrame(function(){s.transition="none",s.transform="translate3d(".concat(e,"px, ").concat(i,"px, 0)")})}}},Y.prototype._offUpEvents=function(){var e=this.el.ownerDocument;g(document,"touchmove",this._onTouchMove),g(document,"touchend",this._onDrop),g(document,"touchcancel",this._onDrop),g(e,"mousemove",this._onTouchMove),g(e,"mouseup",this._onDrop)},Y.prototype._prepareDragStart=function(t,e,n){var o,i=this,r=i.el,a=i.options,l=r.ownerDocument;n&&!i.nativeDraggable&&l.createElement("div");var s=r.children,c=0<s.length?s[0]:null;if(c&&"static"===window.getComputedStyle(c).position&&(c.style.position="relative"),o=function(){i._disableDelayedDragEvents(),!i.nativeDraggable&&i.options.supportPointer&&(g(document,"pointermove",i._onTouchMove),g(document,"pointerup",i._onDrop)),n||"touchstart"!==t.type||(n=!0)},setTimeout(function(){i.options.animation&&(r.style.transition="",c&&(c.style.transition=""),i._animateAll()),e&&e(),i._onDragStart(t,n),i._offUpEvents()},0),this.nativeDraggable)n(document,"dragover",z),n(l,"dragenter",i._onDragOver),n(document,"drop",i._onDrop);else{if(a.supportPointer)n(document,"pointermove",i._onTouchMove),n(document,"pointerup",i._onDrop);else if("ontouchstart"in document)n(document,"touchmove",i._onTouchMove),n(document,"touchend",i._onDrop),n(document,"touchcancel",i._onDrop);else n(document,"mousemove",i._onTouchMove),n(document,"mouseup",i._onDrop);a.delay?(n(document,"mouseup",i._disableDelayedDrag),n(document,"touchend",i._disableDelayedDrag),n(document,"touchcancel",i._disableDelayedDrag),n(document,"mousemove",i._delayedDragTouchMoveHandler),n(document,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&n(document,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,a.delay)):o()}var u=function(e){if(!e.button&&0!==e.buttons){var t=i.el.contains(e.target);1===e.buttons&&t&&i._isInBounds(e)&&i._showClone(e)}};n(document,"mousedown",u),n(document,"touchstart",u)},Y.prototype._isInBounds=function(e){var t=e.clientX||e.touches[0].clientX,e=e.clientY||e.touches[0].clientY,n=this.el.getBoundingClientRect(),o=t>=n.left&&t<=n.right&&e>=n.top&&e<=n.bottom,i=t>=0&&t<=window.innerWidth&&e>=0&&e<=window.innerHeight;return o&&i&&!this.options.fallbackOnBody},Y.create=function(e,n){return new Y(e,n)},Y});
